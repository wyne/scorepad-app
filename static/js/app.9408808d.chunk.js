(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{265:function(e,t,n){"use strict";n.d(t,"a",(function(){return je}));var r=n(6),a=n.n(r),o=n(7),c=n.n(o),i=n(9),l=n.n(i),u=n(11),s=n.n(u),f=n(4),d=n.n(f),m=n(0),p=n.n(m),g=n(45),y=n(60),b=n(381),h=n(19),E=n.n(h),O=n(3),v=n(1),w=n(380),S=n(80),j=n(133),x=n(20),C=v.a.create({name:{alignSelf:"center",color:"white",fontSize:50,fontWeight:"bold",justifyContent:"center",textAlign:"center"},roundScore:{color:"white",fontVariant:["tabular-nums"],marginTop:10,textAlign:"center"},totalScore:{alignSelf:"center",fontVariant:["tabular-nums"],fontWeight:"bold",margin:0,marginTop:0,padding:0},label:{alignSelf:"center",color:"white",fontVariant:["tabular-nums"],textAlign:"center"}}),R=function(e){var t=e.playerName,n=e.totalScore,r=e.roundScore,a=e.fontColor,o=e.maxWidth,c=e.maxHeight,i=Object(m.useState)(1),l=E()(i,2),u=l[0],s=l[1],f=Object(m.useState)(0),d=E()(f,2),g=d[0],y=d[1],b=Object(m.useState)(0),h=E()(b,2),v=h[0],w=h[1];return Object(m.useEffect)((function(){var e=o/g,t=c/v;e>0&&e<2&&s(Math.min(.7*e,.7*t))})),p.a.createElement(O.a,{style:{padding:10,transform:[{scale:u}]},onLayout:function(e){var t=e.nativeEvent.layout,n=(t.x,t.y,t.width),r=t.height;w(r),y(n)}},p.a.createElement(O.a,{style:{justifyContent:"center",alignItems:"center"}},p.a.createElement(x.a,{numberOfLines:1,adjustsFontSizeToFit:!0,style:[C.name,{color:a}]},t)),p.a.createElement(O.a,null,0!=r&&p.a.createElement(x.a,{numberOfLines:1,adjustsFontSizeToFit:!0,style:[C.roundScore,{color:a+"75",fontSize:35}]},r>0&&"+"," ",r),p.a.createElement(x.a,{adjustsFontSizeToFit:!0,numberOfLines:1,style:[C.totalScore,{fontSize:55,lineHeight:55,color:a}]},0!=r&&p.a.createElement(x.a,{style:[C.label,{color:a+"75"}]},"="),n)))},P=v.a.create({playerCard:{flexGrow:1,justifyContent:"center",alignItems:"center",overflow:"hidden"},surface:{position:"absolute",width:"100%",borderColor:"red"},surfaceAdd:{top:0,bottom:"50%"},surfaceSubtract:{top:"50%",bottom:0},name:{color:"white",fontSize:50,fontWeight:"bold",textAlign:"center",justifyContent:"center",alignSelf:"center"},roundScore:{marginTop:10,textAlign:"center",color:"white",fontVariant:["tabular-nums"]},roundBox:{padding:10,borderRadius:5,borderWidth:2,alignSelf:"center"},totalScore:{fontVariant:["tabular-nums"],fontWeight:"bold",alignSelf:"center",margin:0,marginTop:0,padding:0},label:{textAlign:"center",alignSelf:"center",color:"white"},totalLabel:{fontVariant:["tabular-nums"],alignSelf:"center",textAlign:"center"}}),A=function(e){var t=e.playerIndex,n=e.color,r=e.fontColor,a=e.cols,o=e.rows,c=Object(g.c)((function(e){return e.currentGame.players})),i=Object(g.c)((function(e){return e.currentGame.scores})),l=Object(g.c)((function(e){return e.currentGame.currentRound})),u=Object(g.c)((function(e){return e.settings.multiplier})),s=Object(g.b)(),f=Object(m.useState)(0),d=E()(f,2),y=d[0],b=d[1],h=Object(m.useState)(0),v=E()(h,2),w=v[0],j=v[1],x=i[t].reduce((function(e,t,n){return n>l?e:(e||0)+(t||0)})),C=i[t][l]||0,A=100/a+"%",_=100/o+"%";return p.a.createElement(O.a,{style:[P.playerCard,{backgroundColor:n},{width:A},{height:_}],onLayout:function(e){var t=e.nativeEvent.layout,n=(t.x,t.y,t.width),r=t.height;b(n),j(r)}},p.a.createElement(R,{totalScore:x,roundScore:C,fontColor:r,playerName:c[t].name,maxWidth:y,maxHeight:w}),p.a.createElement(S.a,{style:[P.surface,P.surfaceAdd],underlayColor:r+"30",activeOpacity:1,onPress:function(){s(function(e,t){return{type:"INC_PLAYER_ROUND_SCORE",index:e,multiplier:t}}(t,u))}},p.a.createElement(p.a.Fragment,null)),p.a.createElement(S.a,{style:[P.surface,P.surfaceSubtract],underlayColor:r+"30",activeOpacity:1,onPress:function(){s(function(e,t){return{type:"DEC_PLAYER_ROUND_SCORE",index:e,multiplier:t}}(t,u))}},p.a.createElement(p.a.Fragment,null)))},_=n(17),k=n.n(_),L=n(32),D=n(57),T=n(5),z=n(25);var N=v.a.create({totalHeader:{color:"white",fontWeight:"bold",textAlign:"center",fontSize:20},scoreEntry:{fontVariant:["tabular-nums"],textAlign:"center",color:"white",fontSize:20}}),W=function(e){var t=e.navigation,n=e.show,r=["01497c","c25858","f5c800","275436","dc902c","62516a","755647","925561"],a=Object(m.useState)([]),o=E()(a,2),c=o[0],i=o[1],l=Object(g.c)((function(e){return e.currentGame.players})),u=Object(g.c)((function(e){return e.currentGame.scores})),s=Object(g.c)((function(e){return e.currentGame.currentRound})),f=Object(m.useRef)(),d=Object(m.useRef)();return Object(m.useEffect)((function(){d.current.scrollTo({x:c[s],animated:"ios"==T.a.OS})})),p.a.createElement(w.a,{edges:["right","left"],style:{flexDirection:"row",backgroundColor:"black",paddingBottom:10,height:n?"auto":0}},p.a.createElement(O.a,{style:{padding:10,color:"white"}},p.a.createElement(x.a,{style:{color:"white",fontSize:20}}," \xa0 "),l.map((function(e,t){return p.a.createElement(O.a,{key:t,style:{paddingLeft:2,borderLeftWidth:5,borderColor:"#"+r[t]}},p.a.createElement(x.a,{key:t,style:{color:"white",maxWidth:100,fontSize:20},numberOfLines:1},e.name))}))),p.a.createElement(O.a,{key:"total",style:{padding:10}},p.a.createElement(x.a,{style:[N.totalHeader]},"Total"),l.map((function(e,t){return p.a.createElement(x.a,{key:t,style:[N.scoreEntry,{color:"white",fontWeight:"bold"}]},u[t].reduce((function(e,t){return(e||0)+(t||0)})))}))),p.a.createElement(D.a,{horizontal:!0,contentContainerStyle:{flexDirection:"row"},ref:d},u[0].map((function(e,t){return p.a.createElement(O.a,{key:t,style:{padding:10},ref:s==t?f:null,onLayout:function(e){return function(e,t){var n=k()(c);n[t]=e.nativeEvent.layout.x,i(n)}(e,t)},backgroundColor:t==s?"#111":"black"},p.a.createElement(x.a,{style:{color:s==t?"red":"yellow",fontWeight:"bold",textAlign:"center",fontSize:20}},t+1),l.map((function(e,n){return p.a.createElement(x.a,{key:n,style:[N.scoreEntry,{color:0==u[n][t]?"#555":"white"}]},u[n][t])})))}))),p.a.createElement(O.a,{style:{flexDirection:"column",justifyContent:"space-around",padding:10}},p.a.createElement(L.a,{style:{justifyContent:"center"},onPress:function(){t.navigate("Configure")}},n&&p.a.createElement(z.a,{size:Object(j.a)(30,.4),color:"#0a84ff",style:{textAlign:"center"},name:"cog",type:"font-awesome-5"}),n&&p.a.createElement(x.a,{style:{color:"#0a84ff",fontWeight:"bold"}},"Settings"))))},G=n(178);var M=v.a.create({appContainer:{top:0,left:0,right:0,bottom:0,position:"absolute"},contentStyle:{flex:1,flexGrow:1,flexWrap:"wrap",alignContent:"stretch",flexDirection:"row",maxWidth:"100%",backgroundColor:"#000000"},footerStyle:{flex:1}}),I=n(42),F=n(30),V=n(266),B=n(99),U=(n(65),n(261)),H=v.a.create({playerContainer:{margin:10,marginVertical:5,justifyContent:"flex-start",alignItems:"center",flexDirection:"row"},input:{color:"#eee"}}),Y=function(e){var t=e.player,n=e.index,r=(e.promptColor,e.setPlayerWasAdded),a=e.playerWasAdded,o=Object(g.b)(),c=Object(g.c)((function(e){return e.currentGame.players})),i=function(e,t){o(function(e,t){return{type:"SET_PLAYER_NAME",index:e,name:t}}(e,t)),r(!1)};return p.a.createElement(O.a,{style:H.playerContainer,key:t.uuid},p.a.createElement(x.a,{style:{fontVariant:["tabular-nums"],fontSize:35,padding:5,fontWeight:"bold",color:"#0a84ff"}},n+1),p.a.createElement(O.a,{style:{width:30,height:30,borderRadius:25,borderWidth:1,borderColor:"#eee",padding:5,marginHorizontal:5},backgroundColor:"#"+["01497c","c25858","f5c800","275436","dc902c","62516a","755647","925561"][n]}),p.a.createElement(B.c,{style:H.input,containerStyle:{flex:1},defaultValue:n==c.length-1&&a?null:t.name,autoFocus:n==c.length-1&&a,placeholder:"Player "+(n+1),selectTextOnFocus:!0,renderErrorMessage:!1,onEndEditing:function(e){""==e.nativeEvent.text&&i(n,"Player "+(n+1))},maxLength:15,onChangeText:function(e){return i(n,e)}}),n>0&&p.a.createElement(B.b,{name:"delete",color:"#ff375f",onPress:function(){return function(e){o(function(e){return{type:"REMOVE_PLAYER",index:e}}(e))}(n)}}))},J=n(329),X=v.a.create({configScrollContainer:{flex:1,padding:10,paddingBottom:50},text:{fontSize:18,margin:15,color:"#eee"}}),q=function(){var e=["01497c","c25858","f5c800","275436","dc902c","62516a","755647","925561"],t=Object(m.useState)(!1),r=E()(t,2),a=r[0],o=r[1],c=Object(m.useState)(!1),i=E()(c,2),l=i[0],u=i[1],s=Object(g.c)((function(e){return e.currentGame.players})),f=Object(g.b)(),d=p.a.useRef(null),y=function(){d.current.snapTo(0)},b=function(){d.current.snapTo(1)};return p.a.createElement(V.a,{style:X.configScrollContainer,contentContainerStyle:{alignItems:"stretch"}},p.a.createElement(U.a,{ref:d,snapPoints:[450,0],initialSnap:1,borderRadius:20,renderContent:function(){return p.a.createElement(O.a,{style:{backgroundColor:"rgb(44, 44, 46)",padding:0}},p.a.createElement(x.a,{style:X.text},"Swipe down to close"),e.map((function(e){return p.a.createElement(O.a,{width:"100%",height:100,backgroundColor:"#"+e,key:e,onTouchEnd:b})})))},onOpenStart:function(){return null},onCloseEnd:function(){return null}}),p.a.createElement(O.a,{style:{width:350,alignSelf:"center"}},p.a.createElement(I.a,{source:n(330),resizeMode:"contain",resizeMethod:"scale",alignSelf:"center",style:{width:Math.min(.4*F.a.get("window").width,.4*F.a.get("window").height),height:Math.min(.4*F.a.get("window").width,.4*F.a.get("window").height),maxWidth:"50%",aspectRatio:1,margin:20}}),p.a.createElement(O.a,{style:{margin:10}},p.a.createElement(B.a,{icon:p.a.createElement(B.b,{name:"refresh",color:"white"}),title:"New Game",onPress:function(){f({type:"NEW_GAME"}),o(!0)}}),a&&p.a.createElement(x.a,{style:{textAlign:"center",paddingTop:10,color:"#eee"}},"Scores have been reset!")),p.a.createElement(O.a,{style:{flexDirection:"row",alignItems:"baseline",padding:10,justifyContent:"space-between"}},p.a.createElement(x.a,{style:{fontSize:30,color:"#eee",marginTop:20}},"Players")),s.map((function(e,t){return p.a.createElement(Y,{player:e,index:t,promptColor:y,setPlayerWasAdded:u,playerWasAdded:l,key:e.uuid})})),p.a.createElement(O.a,{style:{margin:10}},p.a.createElement(B.a,{title:"Add Player",icon:p.a.createElement(B.b,{name:"add",color:"white"}),disabled:s.length>=8,onPress:function(){f({type:"ADD_PLAYER",name:"Player "+(s.length+1)}),u(!0)}})),s.length>=8&&p.a.createElement(x.a,{style:X.text},"Max players reached."),p.a.createElement(O.a,{style:{margin:50}},p.a.createElement(x.a,null,"\xa0 ")),p.a.createElement(O.a,{style:{marginVertical:30}},p.a.createElement(x.a,{style:X.text},"Version ",J.expo.version),"ios"==T.a.OS&&p.a.createElement(x.a,{style:X.text},T.a.OS," build ",J.expo.ios.buildNumber),"android"==T.a.OS&&p.a.createElement(x.a,{style:X.text},T.a.OS," build ",J.expo.android.versionCode))))},K=n(263),Q=n(108),Z=n(188),$=n(169),ee=n(10),te=n.n(ee),ne=(n(200),n(382));function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){te()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe={players:[{name:"Player 1",uuid:Object(ne.a)()},{name:"Player 2",uuid:Object(ne.a)()}],scores:[[0],[0]],currentRound:0},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INC_PLAYER_ROUND_SCORE":var n=k()(e.scores);return n[t.index][e.currentRound]=(n[t.index][e.currentRound]||0)+(t.multiplier||1),ae(ae({},e),{},{scores:n});case"DEC_PLAYER_ROUND_SCORE":var r=k()(e.scores);return r[t.index][e.currentRound]=(r[t.index][e.currentRound]||0)-(t.multiplier||1),ae(ae({},e),{},{scores:r});case"PREV_ROUND":if(e.currentRound-1<0)return e;var a=e.currentRound-1;return ae(ae({},e),{},{currentRound:a});case"NEXT_ROUND":var o=e.currentRound+1;if(void 0===e.scores[0][o]){var c=k()(e.scores);return e.players.forEach((function(e,t){c[t][o]=0})),ae(ae({},e),{},{scores:c,currentRound:o})}return ae(ae({},e),{},{currentRound:o});case"SET_PLAYER_NAME":var i=k()(e.players);return i[t.index]=ae(ae({},i[t.index]),{},{name:t.name}),ae(ae({},e),{},{players:i});case"ADD_PLAYER":var l=k()(e.players).concat({name:t.name,uuid:Object(ne.a)()}),u=k()(e.scores).concat([Array(e.scores[0].length).fill(0)]);return ae(ae({},e),{},{players:l,scores:u});case"REMOVE_PLAYER":var s=k()(e.players);s.splice(t.index,1);var f=k()(e.scores);return f.splice(t.index,1),ae(ae({},e),{},{players:s,scores:f});case"NEW_GAME":var d=[];return e.players.forEach((function(e,t){d[t]=[0]})),ae(ae({},e),{},{scores:d,currentRound:0});default:return e}},ie={type:"TOGGLE_HOME_FULLSCREEN"},le={type:"TOGGLE_MULTIPLIER"};function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){te()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe={home_fullscreen:!1,multiplier:1},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_HOME_FULLSCREEN":return se(se({},e),{},{home_fullscreen:!e.home_fullscreen});case"TOGGLE_MULTIPLIER":return se(se({},e),{},{multiplier:1==e.multiplier?5:1});default:return e}},me=n(151),pe={key:"root",version:"0",storage:Z.a,whitelist:["players","scores","currentRound"],migrate:Object(me.a)({},{debug:!0})},ge={key:"settings",version:"0",storage:Z.a,whitelist:["home_fullscreen","multiplier"]},ye=Object(Q.a)({currentGame:Object($.a)(pe,ce),settings:Object($.a)(ge,de)}),be=Object(Q.b)(ye),he=Object($.b)(be);var Ee=v.a.create({title:{textAlign:"center",flexDirection:"row",alignItems:"baseline",justifyContent:"space-between",backgroundColor:"black",paddingBottom:10},multiplier:{color:"#0a84ff",paddingHorizontal:5,fontSize:25,fontWeight:"bold",fontVariant:["tabular-nums"]},roundButton:{fontSize:25,paddingHorizontal:10,fontWeight:"bold",color:"#0a84ff"}}),Oe=function(e){e.navigation;var t=Object(g.b)(),n=Object(g.c)((function(e){return e.currentGame.currentRound})),r=Object(g.c)((function(e){return e.settings.home_fullscreen})),a=Object(g.c)((function(e){return e.settings.multiplier}));return p.a.createElement(w.a,{edges:["top"],style:[Ee.title]},p.a.createElement(w.a,{edges:["left"],style:{flexDirection:"row"}},p.a.createElement(L.a,{style:{justifyContent:"center"},onPress:function(){t(le)}},p.a.createElement(x.a,{style:[Ee.multiplier]},a," pt"))),p.a.createElement(O.a,{style:{flexDirection:"row",alignItems:"center"}},p.a.createElement(L.a,{style:{justifyContent:"center"},onPress:function(){t({type:"PREV_ROUND"})}},p.a.createElement(O.a,null,p.a.createElement(z.a,{name:"chevron-left",type:"font-awesome-5",size:25,color:"#0a84ff",style:[Ee.roundButton,{opacity:0==n?0:1}]}))),p.a.createElement(x.a,{style:{fontSize:25,color:"white",fontVariant:["tabular-nums"],fontWeight:"bold"}},"Round ",n+1),p.a.createElement(L.a,{style:{justifyContent:"center"},onPress:function(){t({type:"NEXT_ROUND"})}},p.a.createElement(O.a,null,p.a.createElement(z.a,{name:"chevron-right",type:"font-awesome-5",size:25,color:"#0a84ff",style:[Ee.roundButton]})))),p.a.createElement(w.a,{edges:["right"]},p.a.createElement(z.a,{size:25,name:r?"expand-alt":"compress-alt",color:"#0a84ff",type:"font-awesome-5",onPress:function(){t(ie)}})))};function ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s()(this,n)}}var we=Object(b.a)({ScoreBoard:{screen:function(e){var t=e.navigation,n=["01497c","c25858","f5c800","275436","dc902c","62516a","755647","925561"],r=Object(m.useState)({rows:0,cols:0}),a=E()(r,2),o=a[0],c=a[1],i=Object(g.c)((function(e){return e.currentGame.players})),l=Object(g.c)((function(e){return e.settings.home_fullscreen}));return p.a.createElement(w.a,{style:{flex:1}},p.a.createElement(O.a,{style:M.appContainer},p.a.createElement(O.a,{style:M.contentStyle,onLayout:function(e){for(var t=e.nativeEvent.layout,n=(t.x,t.y,t.width),r=t.height,a=Number.MAX_SAFE_INTEGER,o=1,l=1;l<=i.length;l++){var u=Math.ceil(i.length/l);if(!(i.length%l>0&&l-i.length%l>1)){var s=n/u/(r/l);Math.abs(.8-s)<Math.abs(.8-a)&&(a=s,o=l)}}c({rows:o,cols:Math.ceil(i.length/o)})}},i.map((function(e,t){return p.a.createElement(A,{key:t,playerIndex:t,color:"#"+n[t%n.length],fontColor:Object(G.getContrastRatio)("#"+n[t%n.length],"#000").number>7?"#000000":"#FFFFFF",cols:0!=o.rows&&0!=o.cols?o.cols:0,rows:0!=o.rows&&0!=o.cols?o.rows:0})}))),p.a.createElement(W,{style:M.footerStyle,navigation:t,show:l})))},navigationOptions:function(e){e.navigation;return{headerShown:!0,header:function(e){return p.a.createElement(Oe,null)}}}},Configure:{screen:q,navigationOptions:function(e){e.navigation;return{title:"Configure",headerBackTitle:"Back"}}}},{initialRouteName:"ScoreBoard",defaultNavigationOptions:{title:"Round "}}),Se=Object(y.createAppContainer)(we),je=function(e){l()(n,e);var t=ve(n);function n(){return a()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return p.a.createElement(g.a,{store:be},p.a.createElement(K.a,{loading:null,persistor:he},p.a.createElement(Se,{theme:"dark"})))}}]),n}(p.a.Component)},270:function(e,t,n){e.exports=n(352)},329:function(e){e.exports=JSON.parse('{"expo":{"name":"ScorePad with Rounds","slug":"scorepad","version":"1.0.11","orientation":"default","icon":"./assets/icon.png","updates":{"fallbackToCacheTimeout":0},"assetBundlePatterns":["assets/*"],"backgroundColor":"#000000","ios":{"bundleIdentifier":"com.wyne.scorepad","buildNumber":"17","supportsTablet":true,"requireFullScreen":false},"android":{"icon":"./assets/adaptive-icon.png","adaptiveIcon":{"foregroundImage":"./assets/adaptive-icon-fg.png","backgroundImage":"./assets/adaptive-icon-bg.png"},"package":"com.wyne.scorepad","versionCode":17,"permissions":[]},"userInterfaceStyle":"dark","web":{"favicon":"./assets/favicon.png"},"description":"","githubUrl":"https://github.com/wyne/scorepad"}}')},330:function(e,t,n){e.exports=n.p+"static/media/infographic.68df0368.png"}},[[270,1,2]]]);
//# sourceMappingURL=app.9408808d.chunk.js.map
(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{174:function(e,t,n){"use strict";n.d(t,"a",(function(){return ie}));var r=n(7),a=n.n(r),o=n(9),c=n.n(o),l=n(8),i=n.n(l),u=n(10),s=n.n(u),f=n(2),d=n.n(f),m=n(0),p=n.n(m),y=n(37),g=n(38),b=n(255),E=n(14),h=n.n(E),O=n(22),v=n.n(O),x=n(3),S=n(5),j=n(24),R=n(125),C=n(45),w=S.a.create({playerCard:{flexGrow:1,justifyContent:"center",alignItems:"center",overflow:"hidden"},surface:{position:"absolute",width:"100%",borderColor:"red"},surfaceAdd:{top:0,bottom:"50%"},surfaceSubtract:{top:"50%",bottom:0},name:{color:"white",fontSize:50,fontWeight:"bold",textAlign:"center",justifyContent:"center",alignSelf:"center"},totalScore:{margin:2,fontWeight:"bold",textAlign:"center",color:"white",fontVariant:["tabular-nums"]},roundBox:{padding:5,borderRadius:5,borderWidth:2,alignSelf:"center"},roundScore:{fontVariant:["tabular-nums"],alignSelf:"center",fontSize:40,margin:0,marginTop:0,padding:0},label:{textAlign:"center",alignSelf:"center",color:"white"},roundLabel:{fontVariant:["tabular-nums"],alignSelf:"center",textAlign:"center"}}),F=function(e){var t=e.playerIndex,n=e.color,r=e.fontColor,a=e.cols,o=e.rows,c=Object(y.c)((function(e){return e.currentGame.players})),l=Object(y.c)((function(e){return e.currentGame.scores})),i=Object(y.c)((function(e){return e.currentGame.currentRound})),u=Object(y.b)(),s=l[t].reduce((function(e,t){return(e||0)+(t||0)})),f=l[t][i]||0,d=null,m=null;o>0&&a>0&&(d=100/a+"%",m=100/o+"%");var g=function(e,t){return Object(C.a)(t-4*e.toString().length,.5)-c.length};return p.a.createElement(x.a,{onLayout:function(e){return function(e){var n,r;0==o&&0==a&&u((n=t,r=e.nativeEvent.layout,{type:"SET_CARD_DATA",index:n,data:r}))}(e)},style:[w.playerCard,{backgroundColor:n},{width:0===a?"auto":d},{height:0==o?"auto":m}]},p.a.createElement(x.a,{style:{padding:10}},p.a.createElement(x.a,{style:{justifyContent:"center",alignItems:"center"}},p.a.createElement(j.a,{numberOfLines:1,style:[w.name,{fontSize:function(){var e=c[t].name.toString().length;return e>5?Object(C.a)(30-5*e.toString().length,.5):Object(C.a)(30,.5)}(),lineHeight:Object(C.b)(30),color:r}]},c[t].name)),p.a.createElement(x.a,null,p.a.createElement(j.a,{numberOfLines:1,style:[w.totalScore,{color:r,fontSize:g(s,60),lineHeight:Object(C.a)(60,.5)}]},s),p.a.createElement(x.a,{style:[w.roundBox,{borderColor:r,padding:Object(C.a)(5,.4)}]},p.a.createElement(j.a,{style:[w.roundScore,{fontSize:g(f,35),lineHeight:Object(C.a)(35,.5),color:r}]},f),p.a.createElement(j.a,{style:[w.label,w.roundLabel,{color:r}]},"Round ",i+1)))),p.a.createElement(R.a,{style:[w.surface,w.surfaceAdd],underlayColor:r+"30",activeOpacity:1,onPress:function(){u({type:"INC_PLAYER_ROUND_SCORE",index:t})}},p.a.createElement(p.a.Fragment,null)),p.a.createElement(R.a,{style:[w.surface,w.surfaceSubtract],underlayColor:r+"30",activeOpacity:1,onPress:function(){u({type:"DEC_PLAYER_ROUND_SCORE",index:t})}},p.a.createElement(p.a.Fragment,null)))},A=n(58),P=n(41),_=n(12),D=n(253),k=n(254);var T=S.a.create({roundButton:{fontSize:50,paddingHorizontal:10,color:"white"},scoreEntry:{fontVariant:["tabular-nums"],textAlign:"center",color:"white"}}),N=function(e){var t=e.navigation,n=Object(m.useState)([]),r=v()(n,2),a=r[0],o=r[1],c=Object(y.b)(),l=Object(y.c)((function(e){return e.currentGame.players})),i=Object(y.c)((function(e){return e.currentGame.scores})),u=Object(y.c)((function(e){return e.currentGame.currentRound})),s=Object(m.useRef)(),f=Object(m.useRef)();return Object(m.useEffect)((function(){f.current.scrollTo({x:a[u],animated:"ios"==_.a.OS})})),p.a.createElement(x.a,{style:{flexDirection:"row",backgroundColor:"black",paddingBottom:10}},p.a.createElement(A.a,{style:{justifyContent:"center"},onPress:function(){c({type:"PREV_ROUND"})}},p.a.createElement(x.a,null,p.a.createElement(j.a,null,p.a.createElement(D.a,{name:"chevron-left",style:[T.roundButton,{fontSize:Object(C.a)(40,.4)}],color:"black"})))),p.a.createElement(A.a,{style:{justifyContent:"center"},onPress:function(){t.navigate("Configure")}},p.a.createElement(k.a,{style:{fontSize:Object(C.a)(40,.4),color:"white",textAlign:"center"},name:"gear",color:"black"})),p.a.createElement(x.a,{style:{padding:10,color:"white"}},p.a.createElement(j.a,{style:{color:"white"}}," \xa0 "),l.map((function(e,t){return p.a.createElement(j.a,{key:t,style:{color:"white",maxWidth:100},numberOfLines:1},e.name)}))),p.a.createElement(P.a,{horizontal:!0,contentContainerStyle:{flexDirection:"row"},ref:f},i[0].map((function(e,t){return p.a.createElement(x.a,{key:t,style:{padding:10},ref:u==t?s:null,onLayout:function(e){return function(e,t){var n=h()(a);n[t]=e.nativeEvent.layout.x,o(n)}(e,t)},backgroundColor:t==u?"#111":"black"},p.a.createElement(j.a,{style:{color:u==t?"red":"yellow",fontWeight:"bold",textAlign:"center"}},t+1),l.map((function(e,n){return p.a.createElement(j.a,{key:n,style:[T.scoreEntry,{color:0==i[n][t]?"#555":"white"}]},i[n][t])})))}))),p.a.createElement(A.a,{style:{justifyContent:"center"},onPress:function(){c({type:"NEXT_ROUND"})}},p.a.createElement(x.a,null,p.a.createElement(D.a,{name:"chevron-right",style:[T.roundButton,{fontSize:Object(C.a)(40,.4)}],color:"black"}))))};var L=S.a.create({appContainer:{top:0,left:0,right:0,bottom:0,position:"absolute"},contentStyle:{flex:1,flexGrow:1,flexWrap:"wrap",alignContent:"stretch",flexDirection:"column",maxWidth:"100%",backgroundColor:"#000000"},footerStyle:{flex:1}}),z=n(23),G=n(96),B=n(175),V=n(210),I=S.a.create({configScrollContainer:{flex:1,padding:20,paddingBottom:50,backgroundColor:"white"},text:{textAlign:"center",fontSize:20,margin:5},playerContainer:{margin:10,marginVertical:5,justifyContent:"flex-start",alignItems:"center",flexDirection:"row"},input:{flex:1,borderWidth:1,borderColor:"black",backgroundColor:"white",borderRadius:5,fontSize:20,padding:5,paddingHorizontal:10,margin:5}}),W=function(){var e=Object(m.useState)(!1),t=v()(e,2),n=t[0],r=t[1],a=Object(m.useState)(!1),o=v()(a,2),c=o[0],l=o[1],i=Object(y.c)((function(e){return e.currentGame.players})),u=Object(y.b)(),s=function(e,t){u(function(e,t){return{type:"SET_PLAYER_NAME",index:e,name:t}}(e,t)),l(!1)};return p.a.createElement(B.a,{style:I.configScrollContainer},p.a.createElement(x.a,{style:{maxWidth:500,alignSelf:"center"}},p.a.createElement(j.a,{style:I.text},"Tap the top half of a player's card to add a point. Tap the bottom half to subtract."),p.a.createElement(j.a,{style:I.text},"Tip: To add or subtract faster, try tapping with two alternating fingers."),p.a.createElement(x.a,{style:{margin:10}},p.a.createElement(G.a,{title:"New Game",onPress:function(){u({type:"NEW_GAME"}),r(!0)}}),n&&p.a.createElement(j.a,{style:{textAlign:"center"}},"Scores have been reset!")),i.map((function(e,t){return p.a.createElement(x.a,{style:I.playerContainer,key:e.uuid},p.a.createElement(j.a,{style:{fontSize:20,padding:5}},t+1),p.a.createElement(z.a,{defaultValue:t==i.length-1&&c?null:e.name,style:I.input,autoFocus:t==i.length-1&&c,placeholder:"Player "+(t+1),selectTextOnFocus:!0,onEndEditing:function(e){""==e.nativeEvent.text&&s(t,"Player "+(t+1))},maxLength:15,onChangeText:function(e){return s(t,e)}}),t>0&&p.a.createElement(G.a,{title:"Delete",onPress:function(){return function(e){u(function(e){return{type:"REMOVE_PLAYER",index:e}}(e))}(t)}}))})),p.a.createElement(x.a,{style:{margin:10}},p.a.createElement(G.a,{title:"Add Player",disabled:i.length>=8,onPress:function(){u({type:"ADD_PLAYER",name:"Player "+(i.length+1)}),l(!0)}})),i.length>=8&&p.a.createElement(j.a,{style:I.text},"Max players reached."),p.a.createElement(x.a,{style:{margin:70}},p.a.createElement(j.a,null,"\xa0")),p.a.createElement(x.a,{style:{marginVertical:30}},p.a.createElement(j.a,{style:{textAlign:"center"}},"Version ",V.expo.version),"ios"==_.a.OS&&p.a.createElement(j.a,{style:{textAlign:"center"}},_.a.OS," build ",V.expo.ios.buildNumber," "),"android"==_.a.OS&&p.a.createElement(j.a,{style:{textAlign:"center"}},_.a.OS," build ",V.expo.android.versionCode," "))))},Y=n(170),U=n(67),M=n(4),H=n.n(M),J=n(97);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){H()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K={players:[{name:"Player 1",uuid:Object(J.v4)()},{name:"Player 2",uuid:Object(J.v4)()}],scores:[[0],[0]],currentRound:0},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INC_PLAYER_ROUND_SCORE":var n=h()(e.scores);return n[t.index][e.currentRound]=(n[t.index][e.currentRound]||0)+1,q(q({},e),{},{scores:n});case"DEC_PLAYER_ROUND_SCORE":var r=h()(e.scores);return r[t.index][e.currentRound]=(r[t.index][e.currentRound]||0)-1,q(q({},e),{},{scores:r});case"PREV_ROUND":if(e.currentRound-1<0)return e;var a=e.currentRound-1;return q(q({},e),{},{currentRound:a});case"NEXT_ROUND":var o=e.currentRound+1;if(void 0===e.scores[0][o]){var c=h()(e.scores);return e.players.forEach((function(e,t){c[t][o]=0})),q(q({},e),{},{scores:c,currentRound:o})}return q(q({},e),{},{currentRound:o});case"SET_PLAYER_NAME":var l=h()(e.players);return l[t.index]=q(q({},l[t.index]),{},{name:t.name}),q(q({},e),{},{players:l});case"ADD_PLAYER":var i=h()(e.players).concat({name:t.name,uuid:Object(J.v4)()}),u=h()(e.scores).concat([Array(e.scores[0].length).fill(0)]);return q(q({},e),{},{players:i,scores:u});case"REMOVE_PLAYER":var s=h()(e.players);s.splice(t.index,1);var f=h()(e.scores);return f.splice(t.index,1),q(q({},e),{},{players:s,scores:f});case"NEW_GAME":var d=[];return e.players.forEach((function(e,t){d[t]=[0]})),q(q({},e),{},{scores:d,currentRound:0});case"SET_CARD_DATA":var m=q({},e.cards);return m[t.index]=t.data,q(q({},e),{},{cards:m});case"RESET_CARD_DATA":return q(q({},e),{},{cards:{}});default:return e}},Z=n(176),$=n(130),ee=n(99),te={key:"root",version:"0",storage:Z.a,whitelist:["players","scores","currentRound"],migrate:Object(ee.a)({},{debug:!0})},ne=Object(U.a)({currentGame:Object($.a)(te,Q)}),re=Object(U.b)(ne),ae=Object($.b)(re);function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s()(this,n)}}var ce=Object(b.a)({ScoreBoard:{screen:function(e){var t=e.navigation,n=["01497c","c25858","f5c800","275436","dc902c","62516a","755647","925561"],r=["FFFFFF","FFFFFF","000000","FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],a=Object(m.useState)({rows:0,cols:0}),o=v()(a,2),c=o[0],l=o[1],i=Object(y.c)((function(e){return e.currentGame.players})),u=Object(y.c)((function(e){return e.currentGame.cards})),s=Object(y.b)(),f=function(){setTimeout((function(){if(Object.keys(u||{}).length>=i.length){var e=d(),t=Math.ceil(i.length/e);t==c.rows&&e==c.cols||l({rows:t,cols:e})}}),100)},d=function(){if(void 0===u)return[];var e=i.map((function(e,t){return(u[t]||{}).x})).filter((function(e){return void 0!==e}));return h()(new Set(e)).length};return Object(m.useEffect)((function(){f()})),p.a.createElement(x.a,{style:L.appContainer},p.a.createElement(x.a,{style:L.contentStyle,onLayout:function(e){l({rows:0,cols:0}),s({type:"RESET_CARD_DATA"})}},i.map((function(e,t){return p.a.createElement(F,{key:t,playerIndex:t,color:"#"+n[t%n.length],fontColor:"#"+r[t%n.length],cols:0!=c.rows&&0!=c.cols?c.cols:0,rows:0!=c.rows&&0!=c.cols?c.rows:0})}))),!1,p.a.createElement(N,{style:L.footerStyle,navigation:t}))},navigationOptions:function(e){e.navigation;return{headerShown:!1}}},Configure:{screen:W,navigationOptions:function(e){e.navigation;return{title:"Configure",headerBackTitle:"Back"}}}},{initialRouteName:"ScoreBoard",defaultNavigationOptions:{title:"Home"}}),le=Object(g.createAppContainer)(ce),ie=function(e){i()(n,e);var t=oe(n);function n(){return a()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return p.a.createElement(y.a,{store:re},p.a.createElement(Y.a,{loading:null,persistor:ae},p.a.createElement(le,null)))}}]),n}(p.a.Component)},180:function(e,t,n){e.exports=n(243)},210:function(e){e.exports=JSON.parse('{"expo":{"name":"ScorePad with Rounds","slug":"scorepad","version":"1.0.10","orientation":"default","icon":"./assets/icon.png","updates":{"fallbackToCacheTimeout":0},"assetBundlePatterns":["assets/*"],"backgroundColor":"#000000","ios":{"bundleIdentifier":"com.wyne.scorepad","buildNumber":"13","supportsTablet":true,"requireFullScreen":false},"android":{"icon":"./assets/adaptive-icon.png","adaptiveIcon":{"foregroundImage":"./assets/adaptive-icon-fg.png","backgroundImage":"./assets/adaptive-icon-bg.png"},"package":"com.wyne.scorepad","versionCode":13,"permissions":[]},"web":{"favicon":"./assets/favicon.png"},"description":"","githubUrl":"https://github.com/wyne/scorepad"}}')}},[[180,1,2]]]);
//# sourceMappingURL=app.d8515981.chunk.js.map